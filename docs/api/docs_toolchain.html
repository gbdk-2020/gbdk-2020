<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="cache-control" content="max-age=86400"/>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GBDK 2020 Docs: GBDK Toolchain</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GBDK 2020 Docs
   &#160;<span id="projectnumber">4.4.0</span>
   </div>
   <div id="projectbrief">API Documentation for GBDK 2020</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('docs_toolchain.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">GBDK Toolchain </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="toolchain_overview"></a></p>
<h1><a class="anchor" id="autotoc_md118"></a>
Overview</h1>
<p>GBDK 2020 uses the SDCC compiler along with some custom tools to build Game Boy ROMs.</p><ul>
<li>All tools are located under <code>bin/</code></li>
<li>The typical order of tools called is as follows (when using lcc these steps are usually performed automatically).<ol type="1">
<li>Compile and assemble source files (.c, .s, .asm) with <a class="el" href="docs_toolchain.html#sdcc">sdcc</a> and <a class="el" href="docs_toolchain.html#sdasgb">sdasgb</a></li>
<li>Optional: perform auto banking with <a class="el" href="docs_toolchain.html#bankpack">bankpack</a> on the object files</li>
<li>Link the object files into .ihx file with <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a></li>
<li>Validate the .ihx file with <a class="el" href="docs_toolchain.html#ihxcheck">ihxcheck</a></li>
<li>Convert the .ihx file to a ROM file (.gb, .gbc) with <a class="el" href="docs_toolchain.html#makebin">makebin</a></li>
</ol>
</li>
</ul>
<p>To see individual arguments and options for a tool, run that tool from the command line with either no arguments or with <code>-h</code>.</p>
<h1><a class="anchor" id="autotoc_md119"></a>
Data Types</h1>
<p>For data types and special C keywords, see <a class="el" href="asm_2sm83_2types_8h.html#file_asm_sm83_types_h">asm/sm83/types.h</a> and <a class="el" href="asm_2types_8h.html#file_asm_types_h">asm/types.h</a>.</p>
<p>Also see the SDCC manual (scroll down a little on the linked page): <a href="http://sdcc.sourceforge.net/doc/sdccman.pdf#section.1.1">http://sdcc.sourceforge.net/doc/sdccman.pdf#section.1.1</a></p>
<p><a class="anchor" id="toolchain_changing_important_addresses"></a> </p>
<h1><a class="anchor" id="autotoc_md120"></a>
Changing Important Addresses</h1>
<p>It is possible to change some of the important addresses used by the toolchain at link time using the -Wl-g XXX=YYY and =Wl-b XXX=YYY flags (where XXX is the name of the data, and YYY is the new address).</p>
<p><a class="el" href="docs_toolchain.html#lcc">lcc</a> will include the following linker defaults for <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a> if they are not defined by the user.</p>
<ul>
<li><code>_shadow_OAM</code><ul>
<li>Location of sprite ram (requires 0xA0 bytes).</li>
<li>Default <code>-Wl-g _shadow_OAM=0xC000</code></li>
</ul>
</li>
<li><code>.STACK</code><ul>
<li>Initial stack address</li>
<li>Default <code>-Wl-g .STACK=0xE000</code></li>
</ul>
</li>
<li><code>.refresh_OAM</code><ul>
<li>Address to which the routine for refreshing OAM will be copied (must be in HIRAM). Default</li>
<li>Default <code>-Wl-g .refresh_OAM=0xFF80</code></li>
</ul>
</li>
<li><code>_DATA</code><ul>
<li>Start of RAM section (starts after Shadow OAM)</li>
<li>Default <code>-Wl-b _DATA=0xc0A0</code></li>
</ul>
</li>
<li><code>_CODE</code><ul>
<li>Start of ROM section</li>
<li>Default <code>-Wl-b _CODE=0x0200</code></li>
</ul>
</li>
</ul>
<p><a class="anchor" id="toolchain_compiling_programs"></a></p>
<h1><a class="anchor" id="autotoc_md121"></a>
Compiling programs</h1>
<p>The <a class="el" href="docs_toolchain.html#lcc">lcc</a> program is the front end compiler driver for the actual compiler, assembler and linker. It works out what you want to do based on command line options and the extensions of the files you give it, computes the order in which the various programs must be called and then executes them in order. Some examples are:</p>
<ul>
<li>Compile the C source 'source.c', assemble and link it producing the Gameboy image 'image.gb' <pre class="fragment">lcc -o image.gb source.c
</pre></li>
<li>Assemble the file 'source.s' and link it producing the Gameboy image 'image.gb' <pre class="fragment">lcc -o image.gb source.s
</pre></li>
<li>Compile the C program 'source1.c' and assemble it producing the object file 'object1.o' for later linking. <pre class="fragment">lcc -c -o object1.o source1.c
</pre></li>
<li>Assemble the file 'source2.s' producing the object file 'object2.o' for later linking <pre class="fragment">lcc -c -o object2.o source2.s
</pre></li>
<li>Link the two object files 'object1.o' and 'object2.o' and produce the Gameboy image 'image.gb' <pre class="fragment">lcc -o image.gb object1.o object2.o
</pre></li>
<li>Do all sorts of clever stuff by compiling then assembling source1.c, assembling source2.s and then linking them together to produce image.gb. <pre class="fragment">lcc -o image.gb source1.c source2.s
</pre> Arguments to the assembler, linker, etc can be passed via lcc using -Wp..., -Wf..., -Wa... and -Wl... to pass options to the pre-processor, compiler, assembler and linker respectively. Some common options are:</li>
<li>To generate an assembler listing file. <pre class="fragment">-Wa-l
</pre></li>
<li>To generate a linker map file. <pre class="fragment">-Wl-m
</pre></li>
<li>To bind var to address 'addr' at link time. <pre class="fragment">-Wl-gvar=addr
</pre> For example, to compile the example in the memory section and to generate a listing and map file you would use the following. Note the leading underscore that C adds to symbol names. <pre class="fragment">lcc -Wa-l -Wl-m -Wl-g_snd_stat=0xff26 -o image.gb hardware.c
</pre></li>
</ul>
<h2><a class="anchor" id="Makefiles"></a>
Makefiles</h2>
<h2><a class="anchor" id="autotoc_md122"></a>
Using Makefiles</h2>
<p>Please see the sample projects included with GBDK-2020 for a couple different examples of how to use Makefiles.</p>
<p>You may also want to read a tutorial on Makefiles. For example: <br  />
 <a href="https://makefiletutorial.com/">https://makefiletutorial.com/</a> <br  />
 <a href="https://www.tutorialspoint.com/makefile/index.htm">https://www.tutorialspoint.com/makefile/index.htm</a></p>
<p><a class="anchor" id="linkerfiles_and_autobanking"></a></p>
<h2><a class="anchor" id="autotoc_md123"></a>
Linker Files and ROM Auto Banking</h2>
<p>When <a class="el" href="docs_toolchain.html#bankpack">bankpack</a> is called through <a class="el" href="docs_toolchain.html#lcc">lcc</a> it will now always use linkerfile output (<code>-lkout=</code>) for passing files to the linker (all input object files and linkerfiles will get get consolidated to a single linkerfile).</p>
<p>Bankpack:</p><ul>
<li><code>lkin=&lt;filename&gt;</code> : Adds a input linkerfile (can specify multiple ones)</li>
<li><code>-lkout=&lt;filename&gt;</code> : Enables linkerfile output and sets name (only one can be specified). ALL loaded object files, both from the command line and any loaded from linkerfiles will have their names written to this single output.</li>
</ul>
<p>LCC + Bankpack:</p><ul>
<li><code>lcc</code> passes all input linkerfiles (from <code>-Wl-f&lt;name&gt;</code>) to bankpack (<code>-lkin=</code>)</li>
<li>Linkerfile output is always used when lcc calls <code>bankpack</code> (<code>-lkout=</code>)</li>
<li>A temporary file name is used for bankpack linkerfile output.</li>
<li><code>lcc</code> clears out the linker object file and linkerfile lists, then uses the single linkerfile generated by <code>bankpack</code></li>
</ul>
<p>Also see the <code>linkerfile</code> example project.</p>
<p><a class="anchor" id="build_tools"></a></p>
<h1><a class="anchor" id="autotoc_md124"></a>
Build Tools</h1>
<p><a class="anchor" id="lcc"></a></p>
<h2><a class="anchor" id="autotoc_md125"></a>
lcc</h2>
<p>lcc is the compiler driver (front end) for the GBDK/sdcc toolchain.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#lcc-settings">lcc-settings</a></p>
<p>It can be used to invoke all the tools needed for building a rom. If preferred, the individual tools can be called directly.</p><ul>
<li>the <code>-v</code> flag can be used to show the exact steps lcc executes for a build</li>
<li>lcc can compile, link and generate a binary in a single pass: <code>lcc -o somerom.gb somesource.c</code></li>
<li><a class="anchor" id="lcc_debug"></a> lcc now has a <code>-debug</code> flag that will turn on the following recommended flags for debugging<ul>
<li><code>--debug</code> for sdcc (lcc equiv: <code>-Wf-debug</code>)</li>
<li><code>-y</code> enables .cdb output for <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a> (lcc equiv: <code>-Wl-y</code>)</li>
<li><code>-j</code> enables .noi output for <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a> (lcc equiv: <code>-Wl-j</code>)</li>
</ul>
</li>
</ul>
<p><a class="anchor" id="sdcc"></a></p>
<h2><a class="anchor" id="autotoc_md126"></a>
sdcc</h2>
<p>SDCC C Source compiler.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#sdcc-settings">sdcc-settings</a></p>
<ul>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wf-&lt;argument&gt;</code> and <code>-Wp-&lt;argument&gt;</code> (pre-processor)</li>
</ul>
<p><a class="anchor" id="sdasgb"></a></p>
<h2><a class="anchor" id="autotoc_md127"></a>
sdasgb</h2>
<p>SDCC Assembler for the Game Boy.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#sdasgb-settings">sdasgb-settings</a></p>
<ul>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wa-&lt;argument&gt;</code></li>
</ul>
<p><a class="anchor" id="bankpack"></a></p>
<h2><a class="anchor" id="autotoc_md128"></a>
bankpack</h2>
<p>Automatic Bank packer.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#bankpack-settings">bankpack-settings</a></p>
<p>When enabled, automatically assigns banks for object files where bank has been set to <code>255</code>, see <a class="el" href="docs_rombanking_mbcs.html#rom_autobanking">rom_autobanking</a>. Unless an alternative output is specified the given object files are updated with the new bank numbers.</p><ul>
<li>Can be enabled by using the <code>-autobank</code> argument with <a class="el" href="docs_toolchain.html#lcc">lcc</a>.</li>
<li>Must be called after compiling/assembling and before linking.</li>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wb-&lt;argument&gt;</code></li>
</ul>
<p><a class="anchor" id="sdldgb"></a></p>
<h2><a class="anchor" id="autotoc_md129"></a>
sdldgb</h2>
<p>The SDCC linker for the gameboy.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#sdldgb-settings">sdldgb-settings</a></p>
<p>Links object files (.o) into a .ihx file which can be processed by <a class="el" href="docs_toolchain.html#makebin">makebin</a></p><ul>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wl-&lt;argument&gt;</code></li>
</ul>
<p><a class="anchor" id="ihxcheck"></a></p>
<h2><a class="anchor" id="autotoc_md130"></a>
ihxcheck</h2>
<p>IHX file validator.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#ihxcheck-settings">ihxcheck-settings</a></p>
<p>Checks .ihx files produced by <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a> for correctness.</p><ul>
<li>It will warn if there are multiple writes to the same ROM address. This may indicate mistakes in the code or ROM bank overflows</li>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wi-&lt;argument&gt;</code></li>
</ul>
<p><a class="anchor" id="makebin"></a></p>
<h2><a class="anchor" id="autotoc_md131"></a>
makebin</h2>
<p>IHX to ROM converter.</p>
<ul>
<li>For detailed settings see <a class="el" href="docs_toolchain_settings.html#makebin-settings">makebin-settings</a></li>
<li>For makebin <code>-yt</code> MBC values see <a class="el" href="docs_rombanking_mbcs.html#setting_mbc_and_rom_ram_banks">setting_mbc_and_rom_ram_banks</a></li>
</ul>
<p>Converts .ihx files produced by <a class="el" href="docs_toolchain.html#sdldgb">sdldgb</a> into ROM files (.gb, .gbc). Also used for setting some ROM header data.</p><ul>
<li>Arguments can be passed to it through <a class="el" href="docs_toolchain.html#lcc">lcc</a> using <code>-Wm-&lt;argument&gt;</code></li>
</ul>
<p><a class="anchor" id="gbdk_utilities"></a></p>
<h1><a class="anchor" id="autotoc_md132"></a>
GBDK Utilities</h1>
<p><a class="anchor" id="utility_gbcompress"></a></p>
<h2><a class="anchor" id="autotoc_md133"></a>
GBCompress</h2>
<p>Compression utility.</p>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#gbcompress-settings">gbcompress-settings</a></p>
<p>Compresses (and decompresses) binary file data with the gbcompress algorithm (also used in GBTD/GBMB). Decompression support is available in GBDK:</p><ul>
<li><a class="el" href="gb_2gbdecompress_8h.html#ac895a55aac2149858e9ff8bbc59d2f4e">gb_decompress()</a>, <a class="el" href="gb_2gbdecompress_8h.html#a6817710d720988cd277261ce95de1597">gb_decompress_bkg_data()</a>, <a class="el" href="gb_2gbdecompress_8h.html#a986ffdd6668359bad530e606354ede38">gb_decompress_win_data()</a>, <a class="el" href="gb_2gbdecompress_8h.html#a7dc591cd36b8914ed8c1a5d3e9071feb">gb_decompress_sprite_data()</a></li>
<li>The <code>cross-platform/gbdecompress</code> example demonstrates how to use this compression</li>
</ul>
<p>The utility can also compress (and decompress) using block style RLE encoding with the <code>--alg=rle</code> flag. Decompression support is available in GBDK:</p><ul>
<li><a class="el" href="rledecompress_8h.html#a37405d6a4fdb8c43031be8eae02c85a3">rle_init()</a>, <a class="el" href="rledecompress_8h.html#a02fe4c30c8bc890a80aa3c5d09853038">rle_decompress()</a></li>
<li>The <code>cross-platform/rle_map</code> example demonstrates how to use this compression</li>
</ul>
<p><a class="anchor" id="utility_png2asset"></a></p>
<h2><a class="anchor" id="autotoc_md134"></a>
png2asset</h2>
<p>Tool for converting PNGs into GBDK format MetaSprites and Tile Maps.</p>
<ul>
<li>Convert single or multiple frames of graphics into metasprite structured data for use with the ...metasprite...() functions.</li>
<li>When <code>-map</code> is used, converts images into Tile Maps and matching Tile Sets</li>
<li>Supports Game Boy / Color, SGB borders, SMS/GG, NES</li>
</ul>
<p>For detailed settings see <a class="el" href="docs_toolchain_settings.html#png2asset-settings">png2asset-settings</a> <br  />
 For working with sprite properties (including cgb palettes), see <a class="el" href="gb_2metasprites_8h.html#metasprite_and_sprite_properties">metasprite_and_sprite_properties</a> <br  />
 For API support see <a class="el" href="gb_2metasprites_8h.html#a77475e913bf0a19df28bdbf9d1cf392b">move_metasprite()</a> and related functions in <a class="el" href="sms_2metasprites_8h.html">metasprites.h</a> <br  />
</p>
<h3><a class="anchor" id="autotoc_md135"></a>
Working with png2asset</h3>
<ul>
<li>The origin (pivot) for the metasprite is not required to be in the upper left-hand corner as with regular hardware sprites. See <code>-px</code> and <code>-py</code>.</li>
<li>The conversion process supports using both SPRITES_8x8 (<code>-spr8x8</code>) and SPRITES_8x16 mode (<code>-spr8x16</code>). If 8x16 mode is used then the height of the metasprite must be a multiple of 16.</li>
</ul>
<h4><a class="anchor" id="autotoc_md136"></a>
Terminology</h4>
<p>The following abbreviations are used in this section:</p><ul>
<li>Original Game Boy and Game Boy Pocket style hardware: <code>DMG</code></li>
<li>Game Boy Color: <code>CGB</code></li>
</ul>
<h4><a class="anchor" id="autotoc_md137"></a>
Conversion Process</h4>
<p>png2asset accepts any png as input, although that does not mean any image will be valid. The program will follow the next steps:</p><ul>
<li>The image will be subdivided into tiles of 8x8 or 8x16.</li>
<li>For each tile a palette will be generated.</li>
<li>If there are more than 4 colors in the palette it will throw an error.</li>
<li>The palette will be sorted from darkest to lightest. If there is a transparent color that will be the first one (this will create a palette that will also work with <code>DMG</code> devices).</li>
<li>If there are more than 8 palettes the program will throw an error.</li>
</ul>
<p>With all this, the program will generate a new indexed image (with palette), where each 4 colors define a palette and all colors within a tile can only have colors from one of these palettes</p>
<p>It is also posible to pass a indexed 8-bit png with the palette properly sorted out, using <code>-keep_palette_order</code></p><ul>
<li>Palettes will be extracted from the image palette in groups of 4 colors.</li>
<li>Each tile can only have colors from one of these palettes per tile.</li>
<li>The maximum number of colors is 32.</li>
</ul>
<p>For indexed color images, sometimes RGB paint programs mix up indexed colors in tiles if the same color exists in multiple palettes.</p><ul>
<li><code>-repair_indexed_pal</code> can be used to fix this problem, though tiles must still follow the rule of using only one palette per tile.</li>
</ul>
<p>Using this image a tileset will be created</p><ul>
<li>Duplicated tiles will be removed.</li>
<li>Tiles will be matched without mirror, using vertical mirror, horizontal mirror or both (use <code>-noflip</code> to turn off matching mirrored tiles).</li>
<li>The palette won't be taken into account for matching, only the pixel color order, meaning there will be a match between tiles using different palettes but looking identical on grayscale.</li>
</ul>
<h4><a class="anchor" id="autotoc_md138"></a>
Maps</h4>
<p>Passing <code>-map</code> the png can be converted to a map that can be used in both the background and the window. In this case, png2asset will generate:</p><ul>
<li>The palettes</li>
<li>The tileset</li>
<li>The map</li>
<li>The color info<ul>
<li>By default, an array of palette index for each tile. This is not the way the hardware works but it takes less space and will create maps compatibles with both <code>DMG</code> and <code>CGB</code> devices.</li>
<li>Passing <code>-use_map_attributes</code> will create an array of map attributes. It will also add mirroring info for each tile and because of that maps created with this won't be compatible with <code>DMG</code>.<ul>
<li>Use <code>-noflip</code> to make background maps which are compatible with <code>DMG</code> devices.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md139"></a>
Meta sprites</h4>
<p>By default the png will be converted to metasprites. The image will be subdivided into meta sprites of <code>-sw</code> x <code>-sh</code>. In this case png2asset will generate:</p><ul>
<li>The metasprites, containing an array of:<ul>
<li>tile index</li>
<li>y offset</li>
<li>x offset</li>
<li>flags, containing the mirror info, the palettes for both DMG and GBC and the sprite priority</li>
</ul>
</li>
<li>The metasprites array</li>
</ul>
<h4><a class="anchor" id="autotoc_md140"></a>
Super Game Boy Borders (SGB)</h4>
<p>Screen border assets for the Super Game Boy can be generated using png2asset.</p>
<p>The following flags should be used to perform the conversion:</p><ul>
<li><code>&lt;input_border_file.png&gt; -map -bpp 4 -max_palettes 4 -pack_mode sgb -use_map_attributes -c &lt;output_border_data.c&gt;</code></li>
<li>Where <code>&lt;input_border_file.png&gt;</code> is the image of the SGB border (256x224) and <code>&lt;output_border_data.c&gt;</code> is the name of the source file to write the assets out to.</li>
</ul>
<p>See the <code>sgb_border</code> example project for more details.</p>
<p><a class="anchor" id="utility_makecom"></a></p>
<h2><a class="anchor" id="autotoc_md141"></a>
makecom</h2>
<p>Converts a binary .rom file to .msxdos com format, including splitting the banks up into separate files.</p>
<ul>
<li>For detailed settings see <a class="el" href="docs_toolchain_settings.html#makecom-settings">makecom-settings</a></li>
</ul>
<p><a class="anchor" id="utility_makenes"></a></p>
<h2><a class="anchor" id="autotoc_md142"></a>
makenes</h2>
<p>Converts a binary .rom file to a .nes file, prepending a 16-byte header.</p>
<ul>
<li>For an explanation of the interpretation of header bits see <a href="https://www.nesdev.org/wiki/INES">https://www.nesdev.org/wiki/INES</a></li>
</ul>
<p><a class="anchor" id="utility_png2hicolorgb"></a></p>
<h2><a class="anchor" id="autotoc_md143"></a>
png2hicolorgb</h2>
<p>An updated version of Glen Cook's Windows GUI "hicolour.exe" 1.2 conversion tool for the Game Boy Color. The starting code base was the 1.2 release.</p>
<ul>
<li>For detailed settings see <a class="el" href="docs_toolchain_settings.html#png2hicolorgb-settings">Hi Color</a> on the Game Boy Color is a technique for displaying backgrounds with thousands of colors instead being limtied to 32 colors for the entire screen background. It achieves this by changing ~16 colors of the background palette per scanline. The main tradeoffs are that it uses much of the Game Boy's available cpu processing per frame and requires more ROM space. The tile patterns, map, attributes and per-scanline palettes are pre-calculated using the PC based conversion tool.</li>
</ul>
<p>For the current GBDK example ISR implementation there is a limit of 6 sprites per line before the hi-color timing breaks down and there start to be background artifacts.</p>
<p>Example: <code>png2hicolorgb myimage.png --csource -o=my_output_filename</code> Example with higher quality (slower conversion): <code>png2hicolorgb myimage.png --csource -o=my_output_filename --type=3 -L=2 -R=2</code></p>
<div class="fragment"><div class="line">Historical credits and info:</div>
<div class="line">   Original Concept : Icarus Productions</div>
<div class="line">   Original Code : Jeff Frohwein</div>
<div class="line">   Full Screen Modification : Anon</div>
<div class="line">   Adaptive Code : Glen Cook</div>
<div class="line">   Windows Interface : Glen Cook</div>
<div class="line">   Additional Windows Programming : Rob Jones</div>
<div class="line">   Original Quantiser Code : Benny</div>
<div class="line">   Quantiser Conversion : Glen Cook</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md144"></a>
Additional Details</h3>
<p>For technical details about the conversion process and rendering, see: <a href="https://github.com/bbbbbr/png2hicolorgb">https://github.com/bbbbbr/png2hicolorgb</a></p>
<p><a class="anchor" id="utility_romusage"></a></p>
<h2><a class="anchor" id="autotoc_md145"></a>
romusage</h2>
<p>A utility for estimating usage of Game Boy and SMS/GG ROMs from .noi and .map files, binary ROMs and more.</p>
<ul>
<li>For detailed settings see <a class="el" href="docs_toolchain_settings.html#romusage-settings">romusage-settings</a></li>
</ul>
<p>Example: <code>romusage myprogram.noi -g</code> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
</div>
</body>
</html>
